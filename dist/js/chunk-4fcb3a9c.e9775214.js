(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fcb3a9c"],{"0eb4":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main",class:{showToast:t.toast.toast}},[a("span",{staticClass:"text"},[t._v("Сохранено")])])},s=[],i={name:"Toast",props:{toast:Object},methods:{}},r=i,o=(a("f4fe"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"d5754a60",null);e["a"]=c.exports},"1aa6":function(t,e,a){},"26a0":function(t,e,a){t.exports=a.p+"img/delete.8631e990.svg"},"2d07":function(t,e,a){t.exports=a.p+"img/pencil.9ff78e98.svg"},"691b":function(t,e,a){},b2f1:function(t,e,a){"use strict";a("1aa6")},e4bb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("transition",{attrs:{name:"fade"}},[t.toast.toast?n("div",{staticClass:"overlay"}):t._e()]),n("Toast",{attrs:{toast:t.toast}}),n("link",{attrs:{href:"https://cdn.jsdelivr.net/npm/animate.css@3.5.1",rel:"stylesheet",type:"text/css"}}),n("transition",{attrs:{name:"fade"}},[t.$root.user_2.isShow?n("div",{staticClass:"cards cards_first"},[t.loading?n("Loader"):t._e(),t._l(t.notesAndrey,(function(e,s){return n("div",{key:s,staticClass:"card card_first",class:{mh0:!e.enable,op1:!t.loading}},[n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutDown",mode:"out-in"}},[t.delOverlay&&t.edit_1==s?n("div",{staticClass:"del-overlay"}):t._e()]),n("transition",{attrs:{name:"fade"}},[e.enable?n("div",{staticClass:"card__wrap"},[n("div",{staticClass:"pen",on:{click:function(e){return t.toEdit_1(s)}}},[n("img",{attrs:{src:a("2d07"),alt:""}})]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutLeft"}},[t.edit_1==s?n("div",{staticClass:"delete",on:{click:function(a){return t.del(e.id)}}},[n("img",{attrs:{src:a("26a0"),alt:""}})]):t._e()]),n("div",{staticClass:"desc"},[n("div",{staticClass:"smile"},[n("img",{attrs:{src:t.$root.user_1.avatar||a("1242"),alt:""}})])]),n("div",{staticClass:"date"},[t._v(t._s(e.date))]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutLeft"}},[t.edit_1!=s?n("div",{staticClass:"text",domProps:{innerHTML:t._s(e.textHTML)}}):t._e()]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutRight"}},[t.edit_1==s?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"note.text"}],staticClass:"textarea",attrs:{name:"",id:""},domProps:{textContent:t._s(e.text),value:e.text},on:{input:function(a){a.target.composing||t.$set(e,"text",a.target.value)}}}):t._e()]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutLeft"}},[t.edit_1==s?n("button",{staticClass:"btn btn_white btn_add",on:{click:function(a){return t.update(e.id,e.text)}}},[t._v(" "+t._s(t.btnLoading?"":"Сохранить")+" "),t.btnLoading?n("Loader",{class:{"btn-loader":t.btnLoading}}):t._e()],1):t._e()])],1):t._e()])],1)}))],2):t._e()]),n("transition",{attrs:{name:"fade"}},[t.$root.user_1.isShow?n("div",{staticClass:"cards cards_second"},[t.loading?n("Loader"):t._e(),t._l(t.notesNyuta,(function(e,s){return n("div",{key:s,staticClass:"card card_second",class:{mh0:!e.enable,op1:!t.loading}},[n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutDown",mode:"out-in"}},[t.delOverlay&&t.edit_2==s?n("div",{staticClass:"del-overlay"}):t._e()]),n("transition",{attrs:{name:"fade"}},[e.enable?n("div",{staticClass:"card__wrap"},[n("div",{staticClass:"pen",on:{click:function(e){return t.toEdit_2(s)}}},[n("img",{attrs:{src:a("2d07"),alt:""}})]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutLeft"}},[t.edit_2==s?n("div",{staticClass:"delete",on:{click:function(a){return t.del(e.id)}}},[n("img",{attrs:{src:a("26a0"),alt:""}})]):t._e()]),n("div",{staticClass:"desc"},[n("div",{staticClass:"smile"},[n("img",{attrs:{src:t.$root.user_2.avatar||a("65c0"),alt:""}})])]),n("div",{staticClass:"date text-rose"},[t._v(t._s(e.date))]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutLeft"}},[t.edit_2!=s?n("div",{staticClass:"text text-rose",domProps:{innerHTML:t._s(e.textHTML)}}):t._e()]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutRight"}},[t.edit_2==s?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"note.text"}],staticClass:"textarea",attrs:{name:"",id:""},domProps:{textContent:t._s(e.text),value:e.text},on:{input:function(a){a.target.composing||t.$set(e,"text",a.target.value)}}}):t._e()]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInLeft","leave-active-class":"animated bounceOutLeft"}},[t.edit_2==s?n("button",{staticClass:"btn btn_white btn_add",on:{click:function(a){return t.update(e.id,e.text)}}},[t._v(" Сохранить ")]):t._e()])],1):t._e()])],1)}))],2):t._e()])],1)},s=[],i=a("1da1"),r=a("5530"),o=(a("96cf"),a("4de4"),a("b0c0"),a("159b"),a("ac1f"),a("5319"),a("2f62")),c=a("0eb4"),d=a("555f"),l={components:{Toast:c["a"],Loader:d["a"]},data:function(){return{notes:[],notesAndrey:[],notesNyuta:[],edit_1:null,edit_2:null,text:"",toast:{toast:!1},loading:!0,btnLoading:!1,delOverlay:!1}},mounted:function(){this.start()},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["fetchNotes","updateNote","disableNote"])),{},{start:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchNotes();case 2:t.notes=e.sent,t.notesAndrey=t.notes.filter((function(t){return"Andrey"==t.name})).reverse(),t.notesNyuta=t.notes.filter((function(t){return"Nyuta"==t.name})).reverse(),t.notesAndrey.forEach((function(t){t.textHTML=t.text.replace(/(\r\n|\n|\r)/gm,"<br>")})),t.notesNyuta.forEach((function(t){t.textHTML=t.text.replace(/(\r\n|\n|\r)/gm,"<br>")})),setTimeout((function(){t.loading=!1}),1e3);case 8:case"end":return e.stop()}}),e)})))()},toEdit_1:function(t){this.edit_1!=t?this.edit_1=t:this.edit_1=null},toEdit_2:function(t){this.edit_2!=t?this.edit_2=t:this.edit_2=null},update:function(t,e){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:try{s={id:t,text:e},a.btnLoading=!0,setTimeout(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.updateNote(s);case 2:a.start(),a.$root.user_1.counter=0,a.$root.user_2.counter=0,a.edit_1=null,a.edit_2=null,a.toast.toast=!0,setTimeout((function(){a.toast.toast=!1,a.btnLoading=!1}),2e3);case 9:case"end":return t.stop()}}),t)}))),1e3)}catch(r){console.log("updateNote e -",r)}case 1:case"end":return n.stop()}}),n)})))()},del:function(t){var e=arguments,a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.length>1&&void 0!==e[1]&&e[1],a.delOverlay=!0,n.prev=2,i={id:t,enable:s},n.next=6,a.disableNote(i);case 6:a.$root.user_1.counter=0,a.$root.user_2.counter=0,a.start(),setTimeout((function(){a.delOverlay=!1}),3e3),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](2),console.log("updateNote e -",n.t0);case 15:case"end":return n.stop()}}),n,null,[[2,12]])})))()}})},u=l,m=(a("b2f1"),a("2877")),v=Object(m["a"])(u,n,s,!1,null,"02878016",null);e["default"]=v.exports},f4fe:function(t,e,a){"use strict";a("691b")}}]);
//# sourceMappingURL=chunk-4fcb3a9c.e9775214.js.map